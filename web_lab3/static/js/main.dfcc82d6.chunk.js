(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{44:function(e,t,a){e.exports=a(79)},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(18),s=a.n(r),l=(a(49),a(50),a(51),a(16)),i=a(19),c=a(25);a(52);var u=function(e){return o.a.createElement("div",{id:"sign-page",className:"container-fluid"},o.a.createElement("div",{className:"sign-wrapper"},e.children))},m=a(6),d=function e(){Object(m.a)(this,e)};d.isLoggedIn=!!localStorage.getItem("apiKey"),d.loggedApiKey=localStorage.getItem("apiKey"),d.signIn=function(e){localStorage.setItem("apiKey",e),window.location.href="/"},d.logOut=function(){localStorage.removeItem("apiKey"),window.location.href="/signin"};var p=function(e){var t=e.component,a=Object(c.a)(e,["component"]);return d.isLoggedIn?o.a.createElement(i.a,{to:"/"}):o.a.createElement(i.b,Object.assign({},a,{render:function(e){return o.a.createElement(u,null,o.a.createElement(t,e))}}))},h=a(3),f=a(9),v=a(11),g=a(10),C=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"isInvalid",value:function(){return!(!this.props.showValidate||this.props.valid)}},{key:"render",value:function(){var e=this.props.type||"text",t=["sign-form-input","form-control"];return this.isInvalid()&&t.push("error"),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:e,className:t.join(" "),placeholder:this.props.placeholder,onChange:this.props.onChange,value:this.props.value||"",onBlur:this.props.onBlur}),o.a.createElement("small",{className:"error-message"},this.isInvalid()?this.props.errorMessage:""))}}]),a}(o.a.Component),E=function e(){Object(m.a)(this,e),this.checkEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},this.isEmpty=function(e){return""===e.trim()},this.checkMaxLength=function(e,t){return e.length<=t},this.checkMinLength=function(e,t){return e.length>=t},this.checkPasswordSymbols=function(e){return/^[\w!#$%&*+?@^]+$/.test(e)},this.checkMinCountUpperCase=function(e,t){return new RegExp("[A-Z]{"+t+",}").test(e)},this.checkMinCountLowerCase=function(e,t){return new RegExp("[a-z]{"+t+",}").test(e)},this.checkMinCountDigits=function(e,t){return new RegExp("\\d{"+t+",}").test(e)},this.checkMinDate=function(e,t){return!(e.getFullYear()<=t.getFullYear()&&e.getMonth()<=t.getMonth()&&e.getDay()<t.getDay())},this.checkMinNumber=function(e,t){return!(e<t)},this.checkMaxNumber=function(e,t){return!(e>t)}},b="https://weblabnotes.herokuapp.com/",w=a(5),N=a.n(w),y=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formControls:{email:{type:"email",placeholder:"Email",value:"",valid:!1,errorMessage:"Enter valid email",iconClassName:"fas fa-envelope",showValidate:!1,validation:{required:!0,email:!0}},password:{type:"password",placeholder:"Password",value:"",valid:!1,errorMessage:"Enter valid password",iconClassName:"fas fa-lock",showValidate:!1,validation:{required:!0}}},remember:!1},e.onBlur=function(t){var a=Object(h.a)({},e.state.formControls),n=Object(h.a)({},a[t]);n.showValidate=!0,"Invalid email or password."===e.state.formControls.email.errorMessage&&(a.email.valid=!0),a[t]=n,e.setState({formControls:a})},e.onChangeHandler=function(t,a){var n=Object(h.a)({},e.state.formControls),o=Object(h.a)({},n[a]);o.value=t.target.value;var r=e.validateControl(o.value,o.validation);o.valid=r.isValid,""!==r.errorMessage&&(o.errorMessage=r.errorMessage),n[a]=o,e.setState({formControls:n})},e.validateControl=function(t,a){if(!a)return{isValid:!0,errorMessage:""};var n=new E,o=!0,r="";return a.required&&o&&((o=!n.isEmpty(t))||(r="Field is required.")),a.email&&o&&((o=n.checkEmail(t))||(r="Invalid email.")),a.minLength&&o&&((o=n.checkMinLength(t,a.minLength))||(r="You should put minimum "+a.minLength+" chars.")),a.maxLength&&o&&((o=n.checkMaxLength(t,a.maxLength))||(r="You can put maximum "+a.maxLength+" chars.")),a.equalTo&&o&&((o=t===e.state.formControls[a.equalTo].value)||(r="Passwords should be equal.")),a.minCountLetters&&o&&((o=n.checkPasswordSymbols(t))||(r="You can use only latin letters, numbers and symbols(!,#,$,%,&,*,+,?,@,^)")),a.minCountUpperCase&&o&&((o=n.checkMinCountUpperCase(t,a.minCountUpperCase))||(r="You should put minimum "+a.minCountUpperCase+" letter(s) in upper case.")),a.minCountLowerCase&&o&&((o=n.checkMinCountLowerCase(t,a.minCountLowerCase))||(r="You should put minimum "+a.minCountLowerCase+" letter(s) in lower case.")),a.minCountDigits&&o&&((o=n.checkMinCountDigits(t,a.minCountDigits))||(r="You should put minimum "+a.minCountDigits+" digit(s).")),a.onlyLatin&&o&&((o=t===e.state.formControls[a.equalTo].value)||(r="Passwords should be equal.")),{isValid:o,errorMessage:r}},e.renderInputs=function(){return Object.keys(e.state.formControls).map((function(t,a){var n=e.state.formControls[t];return(o.a.createElement(C,{key:t+a,type:n.type,placeholder:n.placeholder,valid:n.valid,iconClassName:n.iconClassName,showValidate:n.showValidate,onChange:function(a){return e.onChangeHandler(a,t)},errorMessage:n.errorMessage,onBlur:function(){return e.onBlur(t)},value:n.value}))}))},e.handleSubmit=function(t){t.preventDefault();var a=!0,n=Object(h.a)({},e.state.formControls);Object.keys(n).forEach((function(e){var t=Object(h.a)({},n[e]);t.showValidate=!0,n[e]=t,!t.valid&&a&&(a=!1)})),a?N.a.post(b+"oauth/token",{client_id:11,client_secret:"2UD9eZtGyZi100m6JbDsmz4noHkgHss36m9cUgB8",grant_type:"password",username:n.email.value,password:n.password.value},{headers:{Accept:"application/json"}}).then((function(e){200===e.status&&d.signIn(e.data.access_token)})).catch((function(t){var a=n.email;a.valid=!1,a.showValidate=!0,a.errorMessage="Invalid email or password.",n.email=a,e.setState({formControls:n})})):e.setState({formControls:n})},e}return Object(f.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Sign In"),o.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInputs(),o.a.createElement("div",{className:"sign-button-wrapper"},o.a.createElement("button",{type:"submit",className:"btn default-btn"},"Sign In")),o.a.createElement("div",{className:"other-type-sign"},o.a.createElement("h3",null,"Have not account yet?"),o.a.createElement(l.b,{to:"/signup"},"Sign Up"))))}}]),a}(o.a.Component),O=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={formControls:{name:{type:"text",placeholder:"Name",value:"",valid:!1,errorMessage:"Enter valid name",iconClassName:"fas fa-user",showValidate:!1,validation:{required:!0,minLength:3,maxLength:60}},email:{type:"email",placeholder:"Email",value:"",valid:!1,errorMessage:"Enter valid email",iconClassName:"fas fa-envelope",showValidate:!1,validation:{required:!0,email:!0}},password:{type:"password",placeholder:"Password",value:"",valid:!1,errorMessage:"Enter valid password",iconClassName:"fas fa-lock",showValidate:!1,validation:{required:!0,minLength:8,maxLength:30,minCountLetters:1,minCountUpperCase:1,minCountLowerCase:1,minCountDigits:1,passwordSymbols:!0}},repassword:{type:"password",placeholder:"Re-password",value:"",valid:!1,errorMessage:"Enter valid repassword",iconClassName:"fas fa-lock",showValidate:!1,validation:{required:!0,equalTo:"password"}}}},e.onBlur=function(t){var a=Object(h.a)({},e.state.formControls),n=Object(h.a)({},a[t]);n.showValidate=!0,a[t]=n,e.setState({formControls:a})},e.onChangeHandler=function(t,a){var n=Object(h.a)({},e.state.formControls),o=Object(h.a)({},n[a]);o.value=t.target.value;var r=e.validateControl(o.value,o.validation);o.valid=r.isValid,""!==r.errorMessage&&(o.errorMessage=r.errorMessage),n[a]=o,e.setState({formControls:n})},e.validateControl=function(t,a){if(!a)return{isValid:!0,errorMessage:""};var n=new E,o=!0,r="";return a.required&&o&&((o=!n.isEmpty(t))||(r="Field is required.")),a.email&&o&&((o=n.checkEmail(t))||(r="Invalid email.")),a.minLength&&o&&((o=n.checkMinLength(t,a.minLength))||(r="You should put minimum "+a.minLength+" chars.")),a.maxLength&&o&&((o=n.checkMaxLength(t,a.maxLength))||(r="You can put maximum "+a.maxLength+" chars.")),a.equalTo&&o&&((o=t===e.state.formControls[a.equalTo].value)||(r="Passwords should be equal.")),a.minCountLetters&&o&&((o=n.checkPasswordSymbols(t))||(r="You can use only latin letters, numbers and symbols(!,#,$,%,&,*,+,?,@,^)")),a.minCountUpperCase&&o&&((o=n.checkMinCountUpperCase(t,a.minCountUpperCase))||(r="You should put minimum "+a.minCountUpperCase+" letter(s) in upper case.")),a.minCountLowerCase&&o&&((o=n.checkMinCountLowerCase(t,a.minCountLowerCase))||(r="You should put minimum "+a.minCountLowerCase+" letter(s) in lower case.")),a.minCountDigits&&o&&((o=n.checkMinCountDigits(t,a.minCountDigits))||(r="You should put minimum "+a.minCountDigits+" digit(s).")),a.onlyLatin&&o&&((o=t===e.state.formControls[a.equalTo].value)||(r="Passwords should be equal.")),{isValid:o,errorMessage:r}},e.renderInputs=function(){return Object.keys(e.state.formControls).map((function(t,a){var n=e.state.formControls[t];return(o.a.createElement(C,{key:t+a,type:n.type,placeholder:n.placeholder,valid:n.valid,iconClassName:n.iconClassName,showValidate:n.showValidate,onChange:function(a){return e.onChangeHandler(a,t)},errorMessage:n.errorMessage,onBlur:function(){return e.onBlur(t)},value:n.value}))}))},e.handleSubmit=function(t){t.preventDefault();var a=!0,n=Object(h.a)({},e.state.formControls);Object.keys(n).forEach((function(e){var t=Object(h.a)({},n[e]);t.showValidate=!0,n[e]=t,!t.valid&&a&&(a=!1)})),a?N.a.post(b+"api/register",{name:n.name.value,email:n.email.value,password:n.password.value},{headers:{Accept:"application/json"}}).then((function(e){window.location.href="/signin"})).catch((function(t){if("Email already exists."===t.response.data.data.email){var a=n.email;a.valid=!1,a.showValidate=!0,a.errorMessage="User with the same email already exists.",n.email=a,e.setState({formControls:n})}else alert("Unknown error")})):e.setState({formControls:n})},e}return Object(f.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Sign Up"),o.a.createElement("form",{onSubmit:this.handleSubmit},this.renderInputs(),o.a.createElement("div",{className:"sign-button-wrapper"},o.a.createElement("button",{type:"submit",className:"btn default-btn"},"Create")),o.a.createElement("div",{className:"other-type-sign"},o.a.createElement("h3",null,"Have account already?"),o.a.createElement(l.b,{to:"/signin"},"Sign In"))))}}]),a}(o.a.Component),M=a(21);a(73);var k=function(e){return o.a.createElement("div",{className:"card note-wrapper default-block"},o.a.createElement(l.b,{to:"/note/"+e.note.id},o.a.createElement("div",{className:"note"},o.a.createElement("div",{className:"note-header"},o.a.createElement("h3",null,e.note.title)),o.a.createElement("div",{className:"note-body"},o.a.createElement("p",null,e.note.text)))))},j=(a(74),a(22)),A=(a(75),a(14)),S=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={formControls:{title:{value:"",isValid:!1,isBlur:!1,errorMessage:"This field is required."},text:{value:"",isValid:!1,isBlur:!1,errorMessage:"This field is required."}}},e.inputOnChangeHandler=function(t,a){var n=Object(h.a)({},e.state.formControls);n[a].value=t.target.value,0===n[a].value.length?(n[a].errorMessage="This field is required.",n[a].isValid=!1):(n[a].errorMessage="",n[a].isValid=!0),e.setState(n)},e.inputOnBlurHandler=function(t){var a=Object(h.a)({},e.state.formControls);a[t].isBlur=!0,e.setState(a)},e.isFormValid=function(){for(var t in e.state.formControls)if(!e.state.formControls[t].isValid)return!1;return!0},e.saveNote=function(){e.isFormValid()&&(e.props.editMode?N.a.put(b+"api/notes/"+e.props.note.id,{title:e.state.formControls.title.value,text:e.state.formControls.text.value},{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(t){e.props.onChangeNote(t.data.data),e.props.onClosePopup()})).catch((function(){alert("Unknown error. Please reload page and try it one more time.")})):N.a.post(b+"api/notes",{title:e.state.formControls.title.value,text:e.state.formControls.text.value},{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(t){e.props.onChangeNote(t.data.data),e.props.onClosePopup()})).catch((function(){alert("Unknown error. Please reload page and try it one more time.")})))},e}return Object(f.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=Object(h.a)({},this.state.formControls);t.title.value=e.editMode?e.note.title:"",t.title.isValid=e.editMode,t.text.value=e.editMode?e.note.text:"",t.text.isValid=e.editMode,this.setState(t)}},{key:"render",value:function(){var e=this;return(o.a.createElement(j.a,{animation:!1,size:"lg",show:this.props.isOpened,onHide:this.props.onClosePopup},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,this.props.editMode?"Edit note":"New note")),o.a.createElement(j.a.Body,null,o.a.createElement("div",{className:"block-title form-group"},o.a.createElement("input",{className:"form-control",type:"text",value:this.state.formControls.title.value,onChange:function(t){e.inputOnChangeHandler(t,"title")},onBlur:function(t){e.inputOnBlurHandler("title")},placeholder:"Title"}),o.a.createElement("small",{className:"error-message"},this.state.formControls.title.isBlur&&!this.state.formControls.title.isValid?this.state.formControls.title.errorMessage:"")),o.a.createElement("div",{className:"note-text form-group"},o.a.createElement("textarea",{className:"form-control",value:this.state.formControls.text.value,onChange:function(t){e.inputOnChangeHandler(t,"text")},onBlur:function(t){e.inputOnBlurHandler("text")},placeholder:"Text"}),o.a.createElement("small",{className:"error-message"},this.state.formControls.text.isBlur&&!this.state.formControls.text.isValid?this.state.formControls.text.errorMessage:""))),o.a.createElement(j.a.Footer,null,o.a.createElement("div",{className:"option-buttons"},o.a.createElement("button",{className:"save-btn option-button",onClick:this.saveNote},o.a.createElement(A.a,{icon:"check"})," Save")))))}}]),a}(o.a.Component),x=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={notes:[],hasNotes:!0,openedModal:!1},e.componentDidMount=function(){N.a.get(b+"api/notes",{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(t){e.setState({notes:t.data.data,hasNotes:!1})})).catch((function(t){e.setState({hasNotes:!1})}))},e.renderNotes=function(){var t=Object(M.a)(e.state.notes);return 0!==t.length||e.state.hasNotes?t.map((function(e,t){return o.a.createElement(k,{key:t,note:e})})):o.a.createElement("div",{className:"card default-block"},o.a.createElement("h5",{className:"text-center"},"You don`t have notes!"))},e.addNote=function(t){var a=Object(M.a)(e.state.notes);a.unshift(t),e.setState({notes:a})},e.onClosePopup=function(){e.setState({openedModal:!1})},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return(o.a.createElement(o.a.Fragment,null,o.a.createElement(S,{isOpened:this.state.openedModal,onClosePopup:this.onClosePopup,editMode:!1,onChangeNote:this.addNote}),o.a.createElement("button",{className:"add-new-note-btn",onClick:function(){e.setState({openedModal:!0})}}),o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"card-columns"},this.renderNotes())))))}}]),a}(o.a.Component),B=(a(77),function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={note:null,authors:[],openedModal:!1,isFound:!0,viewedAuthorInput:!1,formControls:{authorEmail:{value:"",isValid:"",isBlur:"",errorMessage:""}}},e.componentDidMount=function(){N.a.get(b+"api/notes/"+e.props.match.params.id,{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(t){e.setState({note:t.data.data}),N.a.get(b+"api/authors/note/"+e.props.match.params.id,{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(t){e.setState({authors:t.data.data})}))})).catch((function(t){e.setState({isFound:!1})}))},e.renderAuthors=function(){return e.state.authors.map((function(t,a){return o.a.createElement("li",{key:a,className:1===t.is_creator?"main-author":""},t.is_creator?"":o.a.createElement(A.a,{icon:"trash-alt",onClick:function(){e.deleteAuthor(t)}}),t.name," ",o.a.createElement("small",null,"(",t.email,")"))}))},e.deleteAuthor=function(t){var a=Object(M.a)(e.state.authors),n=a.indexOf(t);n>-1&&N.a.delete(b+"api/authors/"+t.id,{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(t){a.splice(n,1),e.setState({authors:a})})).catch((function(e){alert("Unknown error. Please reload page and try it one more time.")}))},e.onClosePopup=function(){e.setState({openedModal:!1})},e.onChangeNote=function(t){e.setState({note:t})},e.deleteNote=function(){window.confirm("Do you really want to delete this note?")&&N.a.delete(b+"api/notes/"+e.state.note.id,{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(e){window.location.href="/"})).catch((function(){alert("Unknown error. Please reload page and try it one more time.")}))},e.inputOnBlurHandler=function(t){var a=Object(h.a)({},e.state.formControls);a[t].isBlur=!0,e.setState(a)},e.inputOnChangeHandler=function(t,a){var n=Object(h.a)({},e.state.formControls);if(n[a].value=t.target.value,n[a].errorMessage="",n[a].isValid=!0,0===n[a].value.length&&(n[a].errorMessage="This field is required.",n[a].isValid=!1),"authorEmail"===a){/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n[a].value)||(n[a].errorMessage="Invalid email.",n[a].isValid=!1)}e.setState({formControls:n})},e.onAddAuthor=function(){e.state.formControls.authorEmail.isValid&&N.a.post(b+"api/authors/note/"+e.state.note.id,{email:e.state.formControls.authorEmail.value},{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(t){var a=Object(M.a)(e.state.authors);a.push(t.data.data),e.setState({viewedAuthorInput:!1,authors:a})})).catch((function(t){var a=Object(h.a)({},e.state.formControls);t.response.data.data.note_id?(a.authorEmail.errorMessage=t.response.data.data.note_id,a.authorEmail.isValid=!1):t.response.data.data.email?(a.authorEmail.errorMessage=t.response.data.data.email,a.authorEmail.isValid=!1):alert("Unknown error. Please reload page and try it one more time."),e.setState({formControls:a})}))},e.renderFunctionalityToAddAuthor=function(){return e.state.viewedAuthorInput?o.a.createElement("li",{key:"u123"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control",value:e.state.formControls.authorEmail.value,onChange:function(t){e.inputOnChangeHandler(t,"authorEmail")},onBlur:function(t){e.inputOnBlurHandler("authorEmail")}}),o.a.createElement("small",{className:"error-message"},e.state.formControls.authorEmail.isBlur&&!e.state.formControls.authorEmail.isValid?e.state.formControls.authorEmail.errorMessage:"")),o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{className:"btn note-add-new",onClick:e.onAddAuthor},o.a.createElement(A.a,{icon:"user-plus"})," Add"))):o.a.createElement("li",{key:"u123"},o.a.createElement("button",{className:"btn note-add-new",onClick:function(){e.setState({viewedAuthorInput:!0})}},o.a.createElement(A.a,{icon:"user-plus"})," Add new"))},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return this.state.isFound&&!this.state.note?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"default-block"},o.a.createElement("h5",{className:"text-center"},"Loading..."))):this.state.isFound?o.a.createElement("div",{className:"container"},o.a.createElement(S,{isOpened:this.state.openedModal,onClosePopup:this.onClosePopup,editMode:!0,note:this.state.note,onChangeNote:this.onChangeNote}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-8"},o.a.createElement("div",{className:"default-block"},o.a.createElement("div",{className:"option-buttons"},o.a.createElement("button",{className:"edit-btn option-button",onClick:function(){e.setState({openedModal:!0})}},o.a.createElement(A.a,{icon:"pen"})," Edit"),o.a.createElement("button",{className:"delete-btn option-button",onClick:this.deleteNote},o.a.createElement(A.a,{icon:"trash-alt"})," Delete")),o.a.createElement("h2",{className:"block-title"},this.state.note.title),o.a.createElement("div",{className:"note-text"},o.a.createElement("div",null,this.state.note.text)))),o.a.createElement("div",{className:"col-lg-4"},o.a.createElement("div",{className:"default-block"},o.a.createElement("h2",{className:"block-title"},"Authors"),o.a.createElement("ul",{className:"note-authors"},this.renderAuthors(),this.renderFunctionalityToAddAuthor()))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"default-block"},o.a.createElement("h5",{className:"text-center"},"Note not found!")))}}]),a}(o.a.Component)),L=(a(78),a(20)),V=a.n(L),q=function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={loaded:!1,formControls:{name:{value:"",errorMessage:""},email:{value:"",errorMessage:""},password:{value:"",errorMessage:""},repassword:{value:"",errorMessage:""}}},e.inputOnBlurHandler=function(t){var a=Object(h.a)({},e.state.formControls);a[t].errorMessage="",e.setState(a)},e.componentDidMount=function(){N.a.get(b+"api/user",{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(t){var a=e.state.formControls;a.name.value=t.data.data.name,a.email.value=t.data.data.email,e.setState({formControls:a,loaded:!0})})).catch((function(e){d.logOut()}))},e.inputOnChangeHandler=function(t,a){var n=Object(h.a)({},e.state.formControls);n[a].value=t.target.value,e.setState(n)},e.changeName=function(){if(0!==e.state.formControls.name.value.length)N.a.put(b+"api/user",{name:e.state.formControls.name.value},{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(e){V()("Good job!","Name successful saved!","success")})).catch((function(){V()("Bad!","Something went wrong!","error")}));else{var t=Object(h.a)({},e.state.formControls);t.name.errorMessage="This field is required",e.setState({formControls:t})}},e.changeEmail=function(){if(0!==e.state.formControls.email.value.length){if(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.state.formControls.email.value))N.a.put(b+"api/user",{email:e.state.formControls.email.value},{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(e){V()("Good job!","Email successful saved!","success")})).catch((function(t){if(404===t.response.status&&(console.log(t.response.data),t.response.data.data.email&&"Email already exists."===t.response.data.data.email)){var a=Object(h.a)({},e.state.formControls);return a.email.errorMessage="Email already exists",void e.setState({formControls:a})}V()("Bad!","Something went wrong!","error")}));else{var t=Object(h.a)({},e.state.formControls);t.email.errorMessage="Invalid email",e.setState({formControls:t})}}else{var a=Object(h.a)({},e.state.formControls);a.email.errorMessage="This field is required",e.setState({formControls:a})}},e.changePassword=function(){var t=Object(h.a)({},e.state.formControls);return 0===e.state.formControls.password.value.length?(t.password.errorMessage="This field is required",void e.setState({formControls:t})):0===e.state.formControls.repassword.value.length?(t.repassword.errorMessage="This field is required",void e.setState({formControls:t})):e.state.formControls.repassword.value!==e.state.formControls.password.value?(t.repassword.errorMessage="Fields must be equals",void e.setState({formControls:t})):void N.a.put(b+"api/user",{password:e.state.formControls.password.value},{headers:{Accept:"application/json",Authorization:"Bearer "+d.loggedApiKey}}).then((function(a){t.repassword.value="",t.password.value="",e.setState({formControls:t}),V()("Good job!","Password successful saved!","success")})).catch((function(){V()("Bad!","Something went wrong!","error")}))},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return this.state.loaded?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"default-block"},o.a.createElement("h2",{className:"block-title"},"User settings"),o.a.createElement("div",{className:"user-change-info-block"},o.a.createElement("div",{className:"user-setting-form-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},o.a.createElement("h3",{className:"option-title"},"Name")),o.a.createElement("div",{className:"col-8"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:"form-control default-input",name:"name",placeholder:"Name",value:this.state.formControls.name.value,onChange:function(t){e.inputOnChangeHandler(t,"name")},onBlur:function(t){e.inputOnBlurHandler("name")}}),o.a.createElement("small",{className:"error-message"},this.state.formControls.name.errorMessage)),o.a.createElement("div",{className:"form-group text-center"},o.a.createElement("button",{className:"btn default-btn",onClick:this.changeName},"Change"))))),o.a.createElement("div",{className:"user-setting-form-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},o.a.createElement("h3",{className:"option-title"},"Change password")),o.a.createElement("div",{className:"col-8"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:"form-control default-input",name:"new_password",placeholder:"New password",value:this.state.formControls.password.value,onChange:function(t){e.inputOnChangeHandler(t,"password")},onBlur:function(t){e.inputOnBlurHandler("password")}}),o.a.createElement("small",{className:"error-message"},this.state.formControls.password.errorMessage)),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"password",className:"form-control default-input",name:"re_password",placeholder:"Re-password",value:this.state.formControls.repassword.value,onChange:function(t){e.inputOnChangeHandler(t,"repassword")},onBlur:function(t){e.inputOnBlurHandler("repassword")}}),o.a.createElement("small",{className:"error-message"},this.state.formControls.repassword.errorMessage)),o.a.createElement("div",{className:"form-group text-center"},o.a.createElement("button",{className:"btn default-btn",onClick:this.changePassword},"Change"))))),o.a.createElement("div",{className:"user-setting-form-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4"},o.a.createElement("h3",{className:"option-title"},"Email")),o.a.createElement("div",{className:"col-8"},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"email",className:"form-control default-input",name:"email",placeholder:"Email",value:this.state.formControls.email.value,onChange:function(t){e.inputOnChangeHandler(t,"email")},onBlur:function(t){e.inputOnBlurHandler("email")}}),o.a.createElement("small",{className:"error-message"},this.state.formControls.email.errorMessage)),o.a.createElement("div",{className:"form-group text-center"},o.a.createElement("button",{className:"btn default-btn",onClick:this.changeEmail},"Confirm new email")))))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"default-block"},o.a.createElement("h4",null,"Loading...")))}}]),a}(o.a.Component),H=a(23),I=a(17);H.b.add(I.c,I.g,I.d,I.f,I.b,I.h,I.e,I.a);var P=function(e){return o.a.createElement("div",{className:"wrapper"},o.a.createElement("header",{className:"container-fluid"},o.a.createElement("nav",{className:"navbar navbar-light main-navbar default-block"},o.a.createElement("a",{className:"navbar-brand",href:"/"},o.a.createElement(A.a,{icon:"scroll"})," Notes"),o.a.createElement("div",null,o.a.createElement("ul",{className:"navbar-nav navbar-expand ml-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link p-0",href:"/user"},o.a.createElement(A.a,{icon:"user"}))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link p-0",href:"/sigin",onClick:function(e){d.logOut(),e.preventDefault()}},o.a.createElement(A.a,{icon:"sign-out-alt"}))))))),o.a.createElement("div",{className:"content"},e.children))},D=function(e){var t=e.component,a=Object(c.a)(e,["component"]);return d.isLoggedIn?o.a.createElement(i.b,Object.assign({},a,{render:function(e){return o.a.createElement(P,null,o.a.createElement(t,e))}})):o.a.createElement(i.a,{to:"/signin"})};var U=function(){return o.a.createElement(l.a,null,o.a.createElement(i.d,null,o.a.createElement(D,{path:"/",exact:!0,component:x}),o.a.createElement(D,{path:"/note/:id",exact:!0,component:B}),o.a.createElement(D,{path:"/user",exact:!0,component:q}),o.a.createElement(p,{path:"/signin",exact:!0,component:y}),o.a.createElement(p,{path:"/signup",exact:!0,component:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.dfcc82d6.chunk.js.map